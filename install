#!/bin/bash

# install packages
sudo apt install -y \
    nodejs npm ripgrep libssl-dev zlib1g-dev libbz2-dev libreadline-dev \
    libsqlite3-dev wget curl llvm libncursesw5-dev xz-utils tk-dev unzip \
    libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev zsh build-essential \
    tree xsel

# create local bin folder
mkdir ~/.local/bin

# moving dotfiles
cp ~/projects/wsl/dotfiles/.zshrc ~/.zshrc
cp ~/projects/wsl/dotfiles/.p10k.zsh ~/.p10k.zsh

# install from source or prebuild binaries
~/projects/wsl/scripts/install-fzf
~/projects/wsl/scripts/install-nvim
~/projects/wsl/scripts/install-python
~/projects/wsl/scripts/install-golang
~/projects/wsl/scripts/install-lua

# setup git
read -p "Git display user:" user
read -p "Git emai:" email

git config --global user.name $user
git config --global user.email $email
git config --global init.defaultBranch "main"
git config --global pull.rebase false
git config --global core.editor "nvim"

# change shell to zsh
chsh $USER -s /bin/zsh
exec zsh
